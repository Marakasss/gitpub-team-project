{"version":3,"file":"index.js","sources":["../src/js/theme-switcher.js","../src/js/scroll-up.js","../src/js/my-projects.js","../src/main.js"],"sourcesContent":["export const refs = {\n    THEME_KEY: 'theme',\n    themeToggler: document.querySelector('#theme-switcher'),\n};\n\nexport function getTheme() {\n    return JSON.parse(localStorage.getItem(refs.THEME_KEY)) || false;\n}\n\nexport function setTheme(check) {\n    localStorage.setItem(refs.THEME_KEY, JSON.stringify(check));\n}\n\nexport function detectTheme() {\n    const savedTheme = getTheme();\n    if (savedTheme) {\n        refs.themeToggler.checked = true;\n        document.querySelector('body').classList.add('dark');\n    }\n}\nexport function toggleSwitcher(evt) {\n    if (evt.target.checked) {\n        document.body.classList.add('dark');\n        setTheme(true);\n    } else {\n        setTheme(false);\n        document.body.classList.remove('dark');\n    }\n}\n//! to main\n// detectTheme();\n// refs.themeToggler.addEventListener('change', toggleSwitcher);","\nexport const refsScroll = {\n    scrollBtn: document.querySelector('.scroll-up--btn')\n}\n\nexport function scrollUpBtn() {\n    if (window.pageYOffset > 300) {\n        refsScroll.scrollBtn.classList.add(\"show-btn\");\n    } else {\n        refsScroll.scrollBtn.classList.remove(\"show-btn\");\n    };\n};\n\nfunction debounce(func, delay) {\n    let timeout;\n    return function (...args) {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => func.apply(this, args), delay);\n    };\n};\n\nexport function scrollUp() {\n    window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n    });\n};\n\nexport const scrollUpBtnShow = debounce(scrollUpBtn, 300);\n\n//!To main\n// window.addEventListener('scroll', scrollUpBtnShow);\n// refsScroll.scrollBtn.addEventListener('click', scrollUp);","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst allProjects = [\n    {\n        src1x: '/my-projects/rectangle-11-1x.jpg',  \n        src2x: '/my-projects/rectangle-11-2x.jpg',\n        src: '/my-projects/rectangle-11-1x.jpg',\n        alt: \"Wallet webservice \"\n    },\n    {\n        src1x: '/my-projects/rectangle-9-1x.jpg',  \n        src2x: '/my-projects/rectangle-9-2x.jpg',\n        src: '/my-projects/rectangle-9-1x.jpg',\n        alt: \"Green harvest webservice\"\n    },\n    {\n        src1x: '/my-projects/rectangle-12-1x.jpg',  \n        src2x: '/my-projects/rectangle-12-2x.jpg',\n        src: '/my-projects/rectangle-12-1x.jpg',\n        alt: \"English Exellence website\"\n    },\n    {\n        src1x: '/my-projects/rectangle-10-1x.jpg',  \n        src2x: '/my-projects/rectangle-10-2x.jpg',\n        src: '/my-projects/rectangle-10-1x.jpg',\n        alt: \"power pulse webservice\"\n    },\n    {\n        src1x: '/my-projects/rectangle-7-1x.jpg',\n        src2x: '/my-projects/rectangle-7-2x.jpg',\n        src: '/my-projects/rectangle-7-1x.jpg',\n        alt: \"mimino website\"\n    },\n    {\n        src1x: '/my-projects/rectangle-8-1x.jpg',\n        src2x: '/my-projects/rectangle-8-2x.jpg',\n        src: '/my-projects/rectangle-8-1x.jpg',\n        alt: \"vyshyvanka vibes Landing Page\"\n    },\n    {\n        src1x: '/my-projects/rectangle-6-1x.jpg',\n        src2x: '/my-projects/rectangle-6-2x.jpg',\n        src: '/my-projects/rectangle-6-1x.jpg',\n        alt: \"chego jewelry website\"\n    },\n    {\n        src1x: '/my-projects/rectangle-4-1x.jpg',\n        src2x: '/my-projects/rectangle-4-2x.jpg',\n        src: '/my-projects/rectangle-4-1x.jpg',\n        alt: \"energy flow webservice\"\n    },\n    {\n        src1x: '/my-projects/rectangle-5-1x.jpg',\n        src2x: '/my-projects/rectangle-5-2x.jpg',\n        src: '/my-projects/rectangle-5-1x.jpg',\n        alt: \"fruitbox online store\"\n    },\n    {\n        src1x: '/my-projects/first-screen-1-1x.jpg',\n        src2x: '/my-projects/first-screen-1-2x.jpg',\n        src: '/my-projects/first-screen-1-1x.jpg',\n        alt: \"starlight studio landing page\"\n    }\n];\n\nconst gallery = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('.btn-load-more-my-project');\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nlet currentIndex = 0;\nconst batchSize = 3;\n\nfunction createGallery(projects) {\n  const markup = projects\n    .map(({ src1x, src2x, src, alt, h3 }) => {\n      return `\n      <li>\n  <a href=\"${src}\" class=\"gallery-link\">\n    <img class=\"image-my-project\" srcset=\"${src1x} 1x, ${src2x} 2x\" src=\"${src}\" alt=\"${alt}\" />\n  </a>\n  <div class=\"div-my-project\">\n    <p class=\"text-my-project\">React, JavaScript, Node JS, Git</p>\n    <h3 class=\"names-my-project\">${alt}</h3>\n    <button class=\"button-my-project\" onclick=\"window.open('https://github.com/Marakasss/gitpub-team-project', '_blank')\">\n      <span class=\"visit-my-project\">VISIT</span>\n      <svg class=\"svg-my-project\" height=\"14.5\" width=\"14.5\">\n        <use class=\"svg-visit-my-project\" href=\"/img/sprite.svg#icon-visit-arrow\"></use>\n      </svg>\n    </button>\n  </div>\n</li>\n    `;\n    })\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n} \n\n\n\n export async function loadNextProjects(shouldScroll = true) {\n  loadMoreBtn.disabled = true;\n  loadMoreBtn.classList.add('disabled');\n\n  const nextProjects = allProjects.slice(currentIndex, currentIndex + batchSize);\n  const previousLastItem = gallery.lastElementChild;\n\n  await new Promise(resolve => setTimeout(resolve, 200)); // Плавная задержка для UX\n\n  createGallery(nextProjects);\n\n  const newFirstCard = previousLastItem ? previousLastItem.nextElementSibling : gallery.firstElementChild;\n\n  if (shouldScroll && newFirstCard) {\n    newFirstCard.scrollIntoView({\n      behavior: 'smooth',\n      block: 'start',\n    });\n  }\n\n  currentIndex += nextProjects.length;\n\n  if (currentIndex >= allProjects.length) {\n    loadMoreBtn.style.display = 'none';\n  } else {\n    loadMoreBtn.disabled = false;\n    loadMoreBtn.classList.remove('disabled');\n  }\n}\n\n\n\n\n// Обработчик кнопки \"LOAD MORE\" — включает скролл\nloadMoreBtn.addEventListener('click',loadNextProjects);","import { detectTheme, refs, toggleSwitcher } from \"./js/theme-switcher\";\nimport { refsScroll, scrollUpBtnShow, scrollUp } from \"./js/scroll-up\"\nimport {loadNextProjects} from './js/my-projects'\n\n\ndetectTheme();\nrefs.themeToggler.addEventListener('change', toggleSwitcher);\n\n\nwindow.addEventListener('scroll', scrollUpBtnShow);\nrefsScroll.scrollBtn.addEventListener('click', scrollUp);\n\n\n// Загрузка первых 3-х проектов при старте страницы (без скролла) в секции my-project\nloadNextProjects(false);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["refs","getTheme","setTheme","check","detectTheme","toggleSwitcher","evt","refsScroll","scrollUpBtn","debounce","func","delay","timeout","args","scrollUp","scrollUpBtnShow","allProjects","gallery","loadMoreBtn","lightbox","SimpleLightbox","currentIndex","batchSize","createGallery","projects","markup","src1x","src2x","src","alt","h3","loadNextProjects","shouldScroll","nextProjects","previousLastItem","resolve","newFirstCard"],"mappings":"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"}